import{j as e}from"./jsx-runtime.CYYqVSlZ.js";import{r as s}from"./index.DJO9vBfz.js";import{E as w,a as j}from"./eye.-kFPtF3Q.js";import"./createLucideIcon.DgMzALqq.js";const E=()=>{const[n,p]=s.useState(!1),[o,f]=s.useState(""),[c,b]=s.useState(""),[l,a]=s.useState(""),[d,m]=s.useState(!1),[u,x]=s.useState(""),g=async t=>{t.preventDefault(),a(""),m(!0),x("");try{const r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c})}),h=await r.text();x(`Status: ${r.status}
Response:
${h}`);let i;try{i=JSON.parse(h)}catch{a("La respuesta del servidor no es JSON válido");return}if(!r.ok){a(i.message||"Ocurrió un error durante el inicio de sesión");return}localStorage.setItem("user",JSON.stringify(i.user)),window.location.href=i.redirectUrl}catch(r){console.error("Error durante el inicio de sesión:",r),a("Ocurrió un error durante el inicio de sesión")}finally{m(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen font-SpaceGrotesk",children:e.jsxs("div",{className:"w-full max-w-md p-6 m-4 space-y-6 rounded-lg bg-zinc-800 shadow-card",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white sm:text-3xl",children:"Iniciar sesión"}),e.jsx("p",{className:"mt-2 text-sm text-zinc-400 sm:text-base",children:"Accede a tu cuenta"})]}),l&&e.jsx("div",{className:"p-2 text-sm text-red-500 bg-red-100 rounded",children:l}),e.jsxs("form",{onSubmit:g,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-300",children:"Correo electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:o,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 text-white border rounded-md placeholder-zinc-500 bg-zinc-700 border-zinc-600 focus:outline-none focus:ring-2 focus:ring-lime focus:border-transparent",placeholder:"tu@ejemplo.com"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-300",children:"Contraseña"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:c,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 text-white border rounded-md placeholder-zinc-500 bg-zinc-700 border-zinc-600 focus:outline-none focus:ring-2 focus:ring-lime focus:border-transparent",placeholder:"********"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>p(!n),children:n?e.jsx(w,{className:"w-5 h-5 text-zinc-400"}):e.jsx(j,{className:"w-5 h-5 text-zinc-400"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-2 text-sm font-medium text-white rounded-md bg-lime hover:bg-white hover:text-lime focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-lime disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Iniciando sesión...":"Iniciar sesión"})})]}),e.jsxs("p",{className:"text-xs text-center text-zinc-400 sm:text-sm",children:["¿No tienes una cuenta?"," ",e.jsx("a",{href:"/registro",className:"font-medium text-lime hover:text-white",children:"Registrarse"})]}),u&&e.jsxs("div",{className:"p-2 mt-4 rounded bg-zinc-700",children:[e.jsx("h3",{className:"font-bold text-white",children:"Debug Info:"}),e.jsx("pre",{className:"text-xs whitespace-pre-wrap text-zinc-300",children:u})]})]})})};export{E as default};
