---
import "../styles/global.css";
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import { ViewTransitions } from 'astro:transitions';
import { ensureDatabaseInitialized } from '../components/lib/dbInit';
await ensureDatabaseInitialized();

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.png" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta
      name="description"
      content="A beautiful and functional landing page design created specifically for digital marketing agencies. With its clean and modern design, Positivus is the perfect template to showcase your agency's services and case studies to potential clients. Built with astro and tailwindcss"
    />
	<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
  <ViewTransitions />
  </head>
  <body class="overflow-x-hidden bg-white  font-SpaceGrotesk">
    <Navbar />
    <slot />
    <Footer/>
    
    <script>
      // Script para sincronizar el estado de autenticaci√≥n entre cliente y servidor
      const storedUser = localStorage.getItem('user');
      if (storedUser) {
        document.cookie = `user=${storedUser}; path=/; max-age=3600`;
      }
    </script>
  </body>
</html>